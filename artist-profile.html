<!doctype html>
<html lang="es">
<head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Crear Perfil de Artista - MardelMusic</title>
</head>
<body class="flex flex-col md:w-full h-screen md:overflow-hidden bg-darker">
<nav class="flex flex-row items-center p-8 h-20 bg-transparent">
    <div class="grow justify-start">
        <a href="./dashboard.html" class="text-2xl font-bold text-light ">
            MardelMusic
        </a>
    </div>
    <div class="grow-1 relative flex justify-end items-center gap-4">
        <div class="relative w-8 h-8 bg-dark rounded-full flex items-center justify-center shadow-md">
            <button id="notification-bell"
                    class="text-[#fefefe] backdrop-blur-2xl bg-darker opacity-50 rounded-full hover:opacity-100 w-8 h-8 transition flex items-center justify-center cursor-pointer">
                <i data-lucide="bell"></i>
            </button>
            <div id="notification-badge"
                 class="hidden absolute -top-1 -right-1 rounded-full bg-[#2B7FFFFF] min-w-[20px] h-5 flex items-center justify-center text-white text-xs font-bold px-1">
            </div>
            <ul id="notification-dropdown"
                class="hidden absolute top-0 right-0 overflow-hidden mt-12 w-80 max-h-96 bg-white text-black rounded-lg shadow-xl border border-gray-200 flex flex-col z-50">
            </ul>
        </div>
        <div class="relative">
            <div class="w-12 h-12 bg-dark rounded-full flex items-center justify-center shadow-md">
                <button id="profile-img"
                        class="w-10 h-10 bg-darker rounded-full flex items-center justify-center cursor-pointer backdrop:blur-2xl">
                </button>
            </div>
            <ul id="profile-dropdown"
                class="hidden overflow-hidden absolute top-0 right-0 mt-12 md:w-50 md:h-auto bg-dark text-black rounded-lg shadow-lg flex flex-col gap-2 z-50">
            </ul>
        </div>
    </div>
</nav>

<section class="w-full min-h-screen p-4 bg-darker">
    <div class="w-full mx-auto flex flex-col rounded-lg overflow-hidden">

        <div class="flex flex-row profile-gradient shadow-lg p-12 gap-12">
            <div class="h-full self-center ">
                <h1 class="text-4xl font-bold text-light opacity-80 drop-shadow-xl drop-shadow-[#242424]">
                    Crear perfil de Artista
                </h1>
            </div>
        </div>

        <div class="flex flex-row profile-gradient shadow-lg p-12 gap-8">
            <div class="flex flex-col gap-4">
                <span class="text-lg font-bold text-light opacity-80 drop-shadow-xl drop-shadow-[#242424]">Foto de perfil</span>
                <div class="w-80 h-80 relative">
                    <img id="profile-image"
                         src=""
                         alt="Vista previa de imagen"
                         class="w-full h-full rounded-md object-cover bg-darker overflow-hidden shadow-xl hidden"
                    />
                    <div id="image-placeholder"
                         class="w-full h-full rounded-md bg-darker overflow-hidden shadow-xl flex items-center justify-center border-2 border-dashed border-gray-600">
                        <div class="text-center">
                            <i data-lucide="image" class="w-12 h-12 text-gray-400 mx-auto mb-2"></i>
                            <p class="text-gray-400 text-sm">Selecciona una imagen</p>
                        </div>
                    </div>
                    <input id="image-input"
                           type="file"
                           accept="image/*"
                           class="hidden"
                    />
                    <button id="select-image-btn"
                            type="button"
                            class="absolute inset-0 w-full h-full bg-transparent transition-all cursor-pointer rounded-md">
                    </button>
                    <button id="remove-image-btn"
                            type="button"
                            class="hidden absolute top-2 right-2 text-white cursor-pointer bg-darker opacity-60 hover:opacity-90 rounded-full w-8 h-8 flex items-center justify-center transition-all">
                        <i data-lucide="x" class="w-4 h-4"></i>
                    </button>
                </div>
            </div>
            <div class="flex flex-col gap-4 w-full">
                <span class="text-lg font-bold text-light opacity-80 drop-shadow-xl drop-shadow-[#242424]">Datos del artista</span>
                <form>
                    <div class="flex flex-row w-full mb-2">
                        <div class="flex flex-col w-full gap-2">
                            <label>Nombre de artista</label>
                            <input
                                    type="text"
                                    id="artist-name"
                                    placeholder="Nombre de artista"
                                    class="bg-darker text-light rounded-md p-2 w-full focus:outline-none focus:ring-2 focus:ring-blue-500"
                            />
                        </div>
                    </div>
                    <div class="flex flex-row w-full mb-2 gap-2">
                        <div class="flex flex-col w-full gap-2">
                            <label>Bio</label>
                            <textarea
                                    type="text" id="artist-bio" cols="20"
                                    placeholder="Breve descripcion del artista"
                                    class="bg-darker text-light rounded-md p-2 w-full h-30 focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none"></textarea>
                        </div>
                    </div>

                    <div id="social-media-container" class="flex flex-col w-full mt-4 gap-2">
                        <div class="w-full flex flex-row justify-between items-center content-center mb-2">
                            <span class="text-lg font-bold text-light opacity-80 drop-shadow-xl drop-shadow-[#242424]">Foto de perfil</span>
                            <button class="p-1 text-xs bg-blue-600 rounded-sm text-white hover:opacity-70 transition-all shadow-md">
                                Agregar redes sociales
                            </button>
                        </div>

                        <div class="flex flex-col w-full gap-2">
                            <label for="nombre-del-input">
                                Nombre del input
                            </label>
                            <input
                                    type="text"
                                    id="nombre-del-input"
                                    placeholder="Nombre del input"
                                    class="bg-darker text-light rounded-md p-2 w-full focus:outline-none focus:ring-2 focus:ring-blue-500"
                            />
                        </div>
                    </div>

                </form>
            </div>
        </div>
    </div>
</section>


<script type="module" src="/src/main.js"></script>
<script type="module">
    import authHandler from "/src/handlers/auth.handler.js";
    import LayoutHandler from "/src/handlers/layout-handler.js";
    import NotificationHandler from "/src/handlers/notification.handler.js";
    import ArtistProfileCreateHandler from "/src/handlers/artist-profile-create.handler.js";
    import AuthGuard from "/src/utils/auth.guard.js";

    const layoutHandler = new LayoutHandler();
    const notificationHandler = new NotificationHandler();
    const artistProfileCreateHandler = new ArtistProfileCreateHandler();

    authHandler.subscribe(AuthGuard);
    authHandler.subscribe(async (user) => await layoutHandler.setupLayout(user));
    authHandler.subscribe(async (user) => await notificationHandler.init(user));
    authHandler.subscribe(async (user) => await artistProfileCreateHandler.init(user));
    authHandler.getUserProfile();
    window.refreshIcons();
</script>
</body>
</html>